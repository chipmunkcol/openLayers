<!DOCTYPE html>
<html>
  <head>
    <title>OpenLayers Map Example</title>
    <!-- <link rel="stylesheet" href="https://unpkg.com/ol/dist/ol.css" />
    <script src="https://unpkg.com/ol/dist/ol.js"></script> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.3.0/ol.css">


    <style>
      body {
        margin: 0;
        padding: 0;
      }

    </style>
  </head>
  <body>
    <div>
      <button class="btn"></button>
    </div>
    <div id="map" style="width: 100%; height: 80vh;"></div>


    
    <script src="https://cdn.jsdelivr.net/npm/ol@v7.3.0/dist/ol.js"></script>
    <script src="./index.js"></script>
    <script>

      /*
      let lat = 126.978;
      let lng = 37.5665;
      // Create a map instance
      const map = new ol.Map({
        target: "map",
        layers: [
          new ol.layer.Tile({
            source: new ol.source.OSM(),
          }),
        ],

        view: new ol.View({
          center: ol.proj.fromLonLat([lat, lng]),
          zoom: 5,
        }),
      });

      const center = new ol.source.Vector();
      console.log('center: ', center);

    
      // Define a style
      var myStyle = new ol.style.Style({
        stroke: new ol.style.Stroke({
          color: 'red',
          width: 10
        }),
        fill: new ol.style.Fill({
          color: 'rgba(1, 1, 1, 0.2)'
        })
      });

      // const getLayer = map.getLayers();
      // console.log('getLayer: ', getLayer);

      const btn = document.querySelector('.btn');
      btn.textContent = '고 center';
      btn.addEventListener('click', () => {
        setMapCenter(lat, lng);
        setCircleLayer(lat, lng);
        // setLayersHandler();
        // setMapCenter2();
        // setZoomPlus();
      })

      function setMapCenter(centerlat, centerLng) {
        const view = map.getView();
        const newCenter = ol.proj.fromLonLat([centerlat, centerLng]);
        // console.log('newCenter: ', newCenter);
        view.setCenter(newCenter);
        // view.setCenter([0, 0]) // 걍 이렇게 해도 되는듯?
      }

      function setMapCenter2() {
        map.setView(new ol.View({
          center: ol.proj.fromLonLat([0, 0]),
          zoom: 4,
        }))
      }

      function setZoomPlus() {
        const view = map.getView();
        console.log('view: ', view);
        const zoom = view.getZoom();
        console.log('zoom: ', zoom);
        view.setZoom(zoom + 1);
      }

      function setCircleLayer(circleLat, circleLng) {
        const circleFeature = new ol.Feature({
          name: 'My Polygon',
          // class: 'point',
          geometry: new ol.geom.Circle([circleLat, circleLng], 1 / 70),
        })
  
        circleFeature.setStyle(myStyle);
        center.addFeature(circleFeature);
  
        const circleLayer = new ol.layer.Vector({
          name: 'circle_layer',
          source: center
        })
  
        map.addLayer(circleLayer);
      }
*/

      // feature.setStyle(
      //   new ol.style.Stroke({
      //     stroke: new ol.style.Stroke({
      //       color: 'rgb(65, 160, 253)',
      //       width: 5
      //     }),
      //     fill: new ol.style.Fill({
      //       color: 'rgba(65, 160, 253, 0.2)'
      //     })
      //   })
      // )

      // const poly = feature.getGeometry();
      // console.log('poly: ', poly);
      
      // feature.setGeometryName('labelPoint');
      
      // const point = feature.getGeometry();
      // console.log('point: ', point);
      
    </script>

    <!-- <script type="module" src="main.js"></script> -->
  </body>
</html>
